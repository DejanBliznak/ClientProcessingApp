@model Domain.Models.CreateClientModel

<h2>Add New Client</h2>
<form asp-action="Create" asp-controller="Home" method="post">
    <div>
        <label for="Name">Name:</label>
        <input type="text" name="Name" asp-for="Name" />
    </div>
    <div>
        <label for="BirthDate">Birth Date:</label>
        <input type="date" name="BirthDate" asp-for="BirthDate" />
    </div>
    @for (int i = 0; i < Model.Addresses.Count; i++)
    {
       
        <div>
            @if (Model.Addresses[i].Type == 1)
            {
                <label for="Addresses[@i].AddressLine">Home Address Line:</label>
            }
            @if (Model.Addresses[i].Type == 2)
            {
                <label for="Addresses[@i].AddressLine">Weekend Address Line:</label>
            }

            <!-- Use asp-for with the index to bind correctly -->
            <input type="text" name="Addresses[@i].AddressLine" asp-for="Addresses[@i].AddressLine" />
            <input type="text" hidden name="Addresses[@i].Type" value="@Model.Addresses[@i].Type" asp-for="Addresses[@i].Type" />
        </div>
    }
    <button type="submit">Save</button>
</form>